library(igraph)
library(network)
library(sna)
library(ergm)
library(plyr)
Rel.Start <- read.csv('./input.files/RelationshipStart.csv', header=T, as.is=T)
str(Rel.Start)
Rel.Start$Rel_type <- Rel.Start$Rel_type..0...TRANSITORY..1...INFORMAL..2...MARITAL..3...COMMERCIAL.
Rel.Start$Rel_start_time_YEARS <- Rel.Start$Rel_start_time/365
Rel.Start.list <- subset(Rel.Start, select = c("A_ID", "B_ID", "Rel_type", "Rel_start_time_YEARS", "A_risk"))
Rel.Start$Rel_type <- Rel.Start$Rel_type..0...TRANSITORY..1...INFORMAL..2...MARITAL..3...COMMERCIAL.
Rel.Start$Rel_start_time_YEARS <- Rel.Start$Rel_start_time/365
summary(Rel.Start$Rel_start_time_YEARS)
#Rel.Start.list <- Rel.Start.list[order(Rel.Start.list$A_ID),]
contacts.ID.2 <- Rel.Start$B_ID[Rel.Start$A_ID == 2]
contacts.ID.2
Rel.Start.3years <- Rel.Start[Rel.Start$Rel_start_time_YEARS > 80.0 &
Rel.Start$Rel_start_time_YEARS < 85.0, ]
length(unique(Rel.Start.3years$A_ID))
Rel.Start.3years <- Rel.Start[Rel.Start$Rel_start_time_YEARS > 20.0 &
Rel.Start$Rel_start_time_YEARS < 25.0, ]
length(unique(Rel.Start.3years$A_ID))
# Select a set of index HIV-infected and diagnosed individuals
index.HIVinfected <- Rel.Start.3years[Rel.Start.3years$A_HIV_Tested_Positive == 1,]
length(index.HIVinfected)
length(index.HIVnotinfected)
# Select a set of index non-HIV-infected and diagnosed individuals
index.HIVnotinfected <- Rel.Start.3years[Rel.Start.3years$A_HIV_Tested_Positive == 0,]
length(index.HIVnotinfected)
length(index.HIVnotinfected)
Rel.Start.3years <- Rel.Start[Rel.Start$Rel_start_time_YEARS > 80.0 &
Rel.Start$Rel_start_time_YEARS < 85.0, ]
length(unique(Rel.Start.3years$A_ID))
# Select a set of index HIV-infected and diagnosed individuals
index.HIVinfected <- Rel.Start.3years[Rel.Start.3years$A_HIV_Tested_Positive == 1,]
# Select a set of index non-HIV-infected and diagnosed individuals
index.HIVnotinfected <- Rel.Start.3years[Rel.Start.3years$A_HIV_Tested_Positive == 0,]
length(index.HIVnotinfected)
length(index.HIVinfected)
str(Rel.Start.3years)
Rel.Start.3years$A_HIV_Tested_Positive == 1
head(Rel.Start.3years)
library(igraph)
library(network)
library(sna)
library(ergm)
Rel.Start <- read.csv('./input.files/RelationshipStart.csv', header=T, as.is=T)
Rel.Start$Rel_type <- Rel.Start$Rel_type..0...TRANSITORY..1...INFORMAL..2...MARITAL..3...COMMERCIAL.
Rel.Start$Rel_start_time_YEARS <- Rel.Start$Rel_start_time/365
Rel.Start.list <- subset(Rel.Start, select = c("A_ID", "B_ID", "Rel_type", "Rel_start_time_YEARS", "A_risk"))
Rel.Start.list.1year <- Rel.Start.list[Rel.Start.list$Rel_start_time_YEARS > 34.0 &
Rel.Start.list$Rel_start_time_YEARS < 35.0, ]
aaa <- duplicated(Rel.Start.list.1year[, 1:2])
Rel.Start.list.1year.test <- Rel.Start.list.1year[!aaa, ]
bbb = plyr::count(Rel.Start.list.1year.test$A_ID)
Eswatini.counts <- plyr::count(bbb$freq)
plot(Eswatini.counts$x, log10(Eswatini.counts$freq/sum(Eswatini.counts$freq)),
col = "red",
ylab = "log10 frequency",
xlab = "Partners per year",
pch = 16)
Atlanta.counts <- read.csv("Atlanta/edge_counts.csv", header=T)
Atlanta.counts <- read.csv("input.files/Atlanta/edge_counts.csv", header=T)
plot(Atlanta.counts$count, log10(Atlanta.counts$sim1_1/sum(Atlanta.counts$sim1_1)),
col = "red",
ylab = "log10 frequency",
xlab = "Partners per year",
pch = 16,
ylim = c(-5, 0),
main = "Partners per year")
plot(log10(Atlanta.counts$count), log10(Atlanta.counts$sim1_1/sum(Atlanta.counts$sim1_1)),
col = "red",
ylab = "log10 frequency",
xlab = "Partners per year",
pch = 16,
ylim = c(-5, 0),
main = "Partners per year")
text(20, log10(0.5), paste(sum(Atlanta.counts$sim1_1), " total individuals with relationships, Atlanta"))
points(log10(Eswatini.counts$x), log10(Eswatini.counts$freq/sum(Eswatini.counts$freq)),
col = "blue",
pch = 16)
text(20, log10(0.0001), paste(sum(Eswatini.counts$freq), " total individuals with relationships, Eswatini"))
legend(30, -0.5,
c("Eswatini", "Atlanta"),
pch = 16,
col = c("blue", "red"))
text(log10(20), log10(0.5), paste(sum(Atlanta.counts$sim1_1), " total individuals with relationships, Atlanta"))
plot(log10(Atlanta.counts$count), log10(Atlanta.counts$sim1_1/sum(Atlanta.counts$sim1_1)),
col = "red",
ylab = "log10 frequency",
xlab = "Partners per year",
pch = 16,
ylim = c(-5, 0),
main = "Partners per year")
points(log10(Eswatini.counts$x), log10(Eswatini.counts$freq/sum(Eswatini.counts$freq)),
col = "blue",
pch = 16)
legend(0.2, -0.5,
c("Eswatini", "Atlanta"),
pch = 16,
col = c("blue", "red"))
legend(0.2, -4,
c("Eswatini", "Atlanta"),
pch = 16,
col = c("blue", "red"))
plot(log10(Atlanta.counts$count), log10(Atlanta.counts$sim1_1/sum(Atlanta.counts$sim1_1)),
col = "red",
ylab = "log10 frequency",
xlab = "Partners per year",
pch = 16,
ylim = c(-5, 0),
main = "Partners per year")
points(log10(Eswatini.counts$x), log10(Eswatini.counts$freq/sum(Eswatini.counts$freq)),
col = "blue",
pch = 16)
legend(0.2, -4,
c("Eswatini", "Atlanta"),
pch = 16,
col = c("blue", "red"))
